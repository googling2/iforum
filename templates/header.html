<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>My App</title>
    <link rel="stylesheet" href="/static/css/styles.css" />
  </head>
  <body>
    <section class="hbody">
      <article class="nav">
        <div class="container">
          <div class="menu-bar">
            <ul>
              <a href="/">
                <li class="active" data-sec="home">
                  <i class="fa-solid fa-house"></i>
                  <span>Home</span>
                </li>
              </a>
              <a href="/upload" id="create-link">
                <li data-sec="inbox">
                  <i class="fa-regular fa-message"></i>
                  <span>Create</span>
                </li>
              </a>
              {% if user_info %}
              <a href="/logout">
                <li data-sec="logout">
                  <i class="fa-solid fa-sign-out-alt"></i>
                  <span>Logout</span>
                </li>
              </a>

              {% else %}
              <a href="/login">
                <li data-sec="login">
                  <i class="fa-solid fa-sign-in-alt"></i>
                  <span>Login</span>
                </li>
              </a>
              {% endif %}
              <a href="/my_profile" id="profile-link">
                <li data-sec="profile">
                  <i class="fa-regular fa-user"></i>
                  <span>Profile</span>
                </li>
              </a>
            </ul>
          </div>
        </div>
      </article>
    </section>

    <script>
      document.getElementById('profile-link').addEventListener('click', function(event) {
        const isLoggedIn = '{{ user_info|tojson|safe }}' // 서버에서 user_info를 통해 로그인 여부 확인
        if (!isLoggedIn) {
          event.preventDefault();
          alert('로그인이 필요합니다.');
        }
      });

      document.getElementById('create-link').addEventListener('click', function(event) {
        const isLoggedIn = '{{ user_info|tojson|safe }}' // 서버에서 user_info를 통해 로그인 여부 확인
        if (!isLoggedIn) {
          event.preventDefault();
          alert('로그인이 필요합니다.');
        }
      });
    </script>
  </body>
</html>